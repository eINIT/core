<einit prefix="services-virtual-module">
 <shell id="shell-urandom2"
  name="urandom"
  provides="urandom"
  requires="mount-system"
  enable="echo &quot;feedback|notice|Initializing random number generator...&quot;;
          if [ -f ${configuration_services_urandom_seed} ]; then
           cat ${configuration_services_urandom_seed} &gt;/dev/urandom;
          else
           touch ${configuration_services_urandom_seed};
          fi;
          chmod 600 ${configuration_services_urandom_seed};
          dd if=/dev/urandom of=${configuration_services_urandom_seed} count=1 bs=512 &amp;&gt;/dev/null"
  execute:shutdown="echo &quot;feedback|notice|Saving random seed...&quot;;
            touch ${configuration_services_urandom_seed};
            chmod 600 ${configuration_services_urandom_seed};
            dd if=/dev/urandom of=${configuration_services_urandom_seed} count=1 bs=512 &amp;&gt;/dev/null"
  disable="/bin/true"
  restart="no"
  variables="configuration-services-urandom/.*" />
</einit>
