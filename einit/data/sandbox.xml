<?xml version="1.0" encoding="UTF-8" ?>
<einit>
 <core>
  <settings>
   <module-path s="lib/einit" />
   <configuration-path s="etc/einit/" />
  </settings>
 </core>

 <configuration>
  <feedback>
   <visual>
    <std-io stdin="/dev/tty" stdout="/dev/tty" stderr="einit-stderr" />
    <use-ansi-codes b="true" />
   </visual>
  </feedback>

  <ipc>
   <control-socket s="etc/einit-control" oi="0600" />
  </ipc>

  <kernel>
   <modules>
    <usb s="" />
    <bluetooth s="" />
    <hid s="" />
    <sensors s="i2c-isa eeprom w83627ehf" />
    <dvb s="b2c2-flexcop-pci" />
    <ethernet s="uli526x" />
    <arbitrary s="evdev psmouse" />
   </modules>

   <module>
    <ath0 s="ath_pci" />
   </module>
  </kernel>

  <storage>
   <fstab>
    <node mountpoint="/boot" device="/dev/BOOT" options="noatime:noauto" />
    <node mountpoint="/" device="/dev/ROOT" fs="ext3" options="noatime" />
   </fstab>
  </storage>
 </configuration>

 <conceptual>
  <tty-manage-utmp b="true" />

  <feedback>
   <edje>
    <theme-path s="etc/einit/edje" />
    <theme-default s="einit.edj" />
    <theme-default-component s="einit/splash" />
   </edje>
  </feedback>

  <mount-force-writeable-action s="ram-overlay" />
  <mount-ramdisk-fs s="tmpfs" />
  <mount-union s="unionfs" />
 </conceptual>

 <services>
  <virtual>
   <module>
    <shell id="shell-sysconf" name="sysconf dummy" provides="sysconf" enable="echo sysconf;" disable="echo sysconf;" />

    <shell id="shell-eth0-dummy" name="net-eth0-dummy" provides="net-eth0" enable="echo /sbin/modprobe ${kernel_module_eth0}" disable="echo /sbin/rmmod ${kernel_module_eth0}" variables="kernel_module_eth0" />

    <shell id="shell-net-loopback-dummy" name="net-lo" provides="net-lo:net-lo-dummy" enable="echo /sbin/ifconfig lo up" disable="echo ifconfig lo down" />

<!-- dummy daemon -->
    <shell id="daemon-dummy-1" name="Dummy Daemon (1)" provides="dummyd" enable="while true; do id; sleep 1; done" restart="no" disable="/bin/true" prepare="id" user="mdeininger" group="rpc" />
    <shell id="daemon-dummy-2" name="Dummy Daemon (2)" provides="dummyd" requires="network" enable="while true; do echo -n ${ELEMENT}${TZ}; sleep 1; done"  disable="/bin/true" ELEMENT="."/>
    <shell id="daemon-dummy-3" name="Dummy Daemon (3)" provides="dummyd" requires="network" enable="while true; do echo -n ${ELEMENT}${TZ}; sleep 1; done"  disable="/bin/true" ELEMENT="."/>
   </module>
  </virtual>

  <prefer>
   <dummyd s="daemon-dummy-3" />
  </prefer>

  <alias>
<!-- module groups -->
   <network group="net-lo" seq="most" />
   <video group="kern-nvidia" seq="any-iop" />
   <audio group="alsa" seq="any-iop" />
  </alias>
 </services>

 <mode id="boot">
  <enable mod="ipc" />
  <ttys s="tty1-regular" />
 </mode>
 <mode id="default" base="boot">
  <enable mod="network/experimental:tty" />
  <ttys s="tty2-regular:tty3-regular:tty4-regular:tty5-regular:tty6-regular:tty-stfu" />
 </mode>
</einit>
