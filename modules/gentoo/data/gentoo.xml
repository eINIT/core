<?xml version="1.0" encoding="UTF-8" ?>
<einit>
 <configuration>
  <compatibility>
   <sysv-distribution s="auto" />
   <sysv-distribution-gentoo>
<!-- in case you wish to use gentoo-ish init.d scripts, use this:
     NOTE: this should only be used with gentoo-ish init.d scripts, as they need special treatment -->
<!--      <init.d path="/etc/init.d/" /> -->
<!-- use this to make einit parse gentoo's runlevels as einit modes.
     NOTE: until someone defines a list with gentoo<>einit aliases, you'll
      get lots of unknown dependencies
     you also shouldn't set "exclusive" to true. just... don't do it, it'll
     override all the modes that are defined in the xml configuration with
     gentoo's runlevel data which means lots of important things will be
     missing - like mount/critical... -->
<!--      <runlevels path="/etc/runlevels" exclusive="false" /> -->
      <parse-env.d b="true" />
<!-- this does not work anymore, nor is it really required -->
<!--      <service-tracker b="true" path="/var/lib/init.d" /> -->

<!-- scriptlets to process gentoo's init.d scripts
     ( i don't particularly feel like re-implementing a complete sh right now )
     arguments: script-path, script-name, action -->
      <init.d-scriptlets
       execute='/sbin/runscript.sh ${script-path} --quiet --nodeps ${action};' />

    </sysv-distribution-gentoo>
  </compatibility>

  <secondary>
<!-- sh-imports for gentoo systems -->

   <if file-exists="/etc/gentoo-release">
    <file-sh id="/etc/conf.d/hostname" configuration-network-hostname="HOSTNAME:s" />
    <file-sh id="/etc/conf.d/keymaps" configuration-peripherals-keyboard="KEYMAP:layout" />
<!-- this does not (yet) work as expected:
    <file-sh id="/etc/conf.d/clock" configuration-program-options-hwclock="CLOCK:s" /> -->
   </if>
  </secondary>

 </configuration>

 <services>
  <alias id="localmount" s="mount/local" />
  <alias id="checkroot" s="mount/system" />
  <alias id="nfsmount" s="mount/remote" />
  <alias id="lm_sensors" s="sensors" />
<!--  <alias id="net" s="network" /> -->
 </services>
</einit>
